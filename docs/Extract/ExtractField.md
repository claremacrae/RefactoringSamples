<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /docs/Extract/mdsource/ExtractField.source.md
To change this file edit the source file and then execute ./run_markdown_templates.sh.
-->

# ExtractField

[Top](../) / [Extract](.) / **ExtractField**

<!-- toc -->
## Contents

  * [Context](#context)
  * [See Also](#see-also)
  * [Steps to improve the code](#steps-to-improve-the-code)
  * [UML before and after](#uml-before-and-after)
  * [Code before and after](#code-before-and-after)<!-- endToc -->

 <!-- include: ExtractField.description. path: /RefactoringSamples/Before/Extract/ExtractField.description.include.md -->
## Context

You have a variable or expression in a method, and you want to make it a field.

If you select a variable, at the point it is declared, then it gets moved to be a field.

If you select an expression, then no existing variables are removed. If the expression occurs more than once, you will have the option to replace all of the occurrences.

Also known as "Introduce Field".

Applications:

* There is a repeated expression in the code, such as repeated magic numbers, and you want to replace all repeated magic numbers and expressions with single value, such as a constant.
* You want to start dividing a long method up, and make it a class. Some locals inside the method may become fields in the new class. Or you may want to avoid needing to pass them around as parameters to methods you will be extracting.

Having introduced one or more fields, you can then "Extract Class" to group them together, in a separate class.

## See Also

* [Introduce Field refactoring](https://www.jetbrains.com/help/rider/Refactorings__Introduce_Field.html) (JetBrains Rider)

## Steps to improve the code

* Select the expression, and say "Refactor This" -> "Introduce Field"
* If there are multiple occurrences of the expression, say if you want to replace one or all.
* Give the new field a name.

Notes:

* if the field was extracted from a non-static method, the new field will be non-static.
* if the field was extracted from a static method, the new field will be static. <!-- endInclude -->

## UML before and after

![ExtractField - Before](../../uml/Before/Extract/ExtractField.svg?raw=true)

becomes

![ExtractField - After](../../uml/After/Extract/ExtractField.svg?raw=true)

## Code before and after

<!-- snippet: ExtractField-Before -->
<a id='snippet-extractfield-before'></a>
```cs
public class ExtractField
{
    public void LongMethod()
    {
        int thing1;
        int thing2;
        int thing3;
    }
}
```
<sup><a href='/RefactoringSamples/Before/Extract/ExtractField.cs#L3-L13' title='Snippet source file'>snippet source</a> | <a href='#snippet-extractfield-before' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->

becomes

<!-- snippet: ExtractField-After -->
<a id='snippet-extractfield-after'></a>
```cs
public class ExtractField
{
    private int _thing1;
    private int _thing2;
    private int _thing3;

    public void LongMethod()
    {
    }
}
```
<sup><a href='/RefactoringSamples/After/Extract/ExtractField.cs#L3-L14' title='Snippet source file'>snippet source</a> | <a href='#snippet-extractfield-after' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->

-----

